# =============================================================================
# Dublin Rental Hunter Configuration
# =============================================================================
# This file contains all settings for the rental hunter application.
# Customize each section according to your preferences.
# =============================================================================

# -----------------------------------------------------------------------------
# User Information
# -----------------------------------------------------------------------------
# Your contact details for notifications and landlord inquiries
user:
  name: "Mia Borko"

# -----------------------------------------------------------------------------
# Search Configurations
# -----------------------------------------------------------------------------
# Define multiple search profiles. Each search can have different criteria.
# You can enable/disable searches independently using the 'active' flag.
searches:
  # Single room or studio - max 1000/month
  - name: "Single Room/Studio"
    active: true
    max_price: 1000
    min_price: 0
    min_beds: 0  # 0 = studio
    max_beds: 1
    areas:
      - "Dublin 1"
      - "Dublin 2"
      - "Dublin 4"
      - "Dublin 6"
      - "Dublin 6W"
      - "Dublin 7"
      - "Dublin 8"
      - "Rathmines"
      - "Ranelagh"
      - "Portobello"
      - "Drumcondra"
      - "Phibsborough"
    property_types:
      - room
      - studio
      - apartment
      - flat
    must_have: []
    nice_to_have:
      - furnished
    exclude_keywords:
      - "couple only"
      - "females only"
      - "males only"

  # 2-bed shared - max 2000/month (1000 per person)
  - name: "2-Bed Shared"
    active: true
    max_price: 2000
    min_price: 0
    min_beds: 2
    max_beds: 2
    areas:
      - "Dublin 1"
      - "Dublin 2"
      - "Dublin 4"
      - "Dublin 6"
      - "Dublin 6W"
      - "Dublin 7"
      - "Dublin 8"
      - "Rathmines"
      - "Ranelagh"
      - "Portobello"
      - "Drumcondra"
      - "Phibsborough"
    property_types:
      - apartment
      - flat
      - house
    must_have: []
    nice_to_have:
      - furnished
    exclude_keywords:
      - "couple only"

# -----------------------------------------------------------------------------
# Scraper Settings
# -----------------------------------------------------------------------------
# Configure which property websites to scrape and their rate limits.
# Rate limiting prevents your IP from being blocked.
scrapers:
  daft:
    enabled: true
    # Seconds to wait between requests to Daft.ie
    rate_limit_seconds: 2

  myhome:
    enabled: true
    rate_limit_seconds: 2

# -----------------------------------------------------------------------------
# Schedule Settings
# -----------------------------------------------------------------------------
# Control when and how often the scraper runs
schedule:
  # How often to check for new listings (in minutes)
  # Lower values = more API calls, higher chance of rate limiting
  # Recommended: 10-30 minutes
  interval_minutes: 10

  # Quiet hours - no notifications during these times
  # Useful to avoid being woken up at night
  # Times in 24-hour format (HH:MM)
  quiet_hours:
    enabled: true
    start: "23:00"  # Stop notifications at 11 PM
    end: "07:00"    # Resume notifications at 7 AM

# -----------------------------------------------------------------------------
# ntfy Notification Settings
# -----------------------------------------------------------------------------
# ntfy.sh is a simple pub-sub notification service
# Install the ntfy app on your phone and subscribe to your topic
# Docs: https://ntfy.sh
ntfy:
  enabled: true

  # Your unique topic name - anyone who knows this can see your notifications
  # Use something unique like: dublin-rentals-yourname-2024
  topic: "dublin-rentals"

  # ntfy server URL (default public server, or self-hosted)
  server: "https://ntfy.sh"

  # Notification priority: min, low, default, high, urgent
  # High priority will bypass Do Not Disturb on most phones
  priority: "high"

# -----------------------------------------------------------------------------
# Email Settings
# -----------------------------------------------------------------------------
# Optional email notifications (in addition to or instead of ntfy)
# For Gmail, you need to generate an App Password:
# https://support.google.com/accounts/answer/185833
email:
  enabled: false
  smtp_server: "smtp.gmail.com"
  smtp_port: 587

  # These should be set in .env file for security, not here
  # username and password are loaded from environment variables
  username: "${GMAIL_ADDRESS}"
  password: "${GMAIL_APP_PASSWORD}"

  # Email recipient (usually same as sender for personal use)
  recipient: "${GMAIL_ADDRESS}"

# -----------------------------------------------------------------------------
# Web Server Settings
# -----------------------------------------------------------------------------
# Small Flask server for viewing listings and approval buttons
server:
  enabled: true
  host: "0.0.0.0"  # Listen on all interfaces
  port: 5151

  # Enable debug mode (disable in production)
  debug: false

# -----------------------------------------------------------------------------
# Database Settings
# -----------------------------------------------------------------------------
# SQLite database for tracking seen listings
database:
  path: "data/rentals.db"

  # Automatically clean up listings older than X days
  cleanup_days: 30

# -----------------------------------------------------------------------------
# Logging Settings
# -----------------------------------------------------------------------------
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/rental_hunter.log"

  # Maximum log file size before rotation (in MB)
  max_size_mb: 10

  # Number of backup log files to keep
  backup_count: 3
